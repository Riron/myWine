<ion-view title="Nouvelle bouteille">
  <ion-content class="has-header">
	  <div class="center-text padding">
	  	<div>
	    <img ng-src="{{ vm.item.picture }}" ng-click="vm.takePicture()">
	    <i class="ion-camera camera-icon" ng-click="vm.takePicture()"></i>
	    </div>
	  </div>
	  <form name="wineForm" ng-submit="vm.addWine(wineForm.$valid)" novalidate>
		  <div class="list">
		  	<div class="item item-divider">
			    Informations
			  </div>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.name.$invalid && !wineForm.name.$pristine }">
			    <span class="input-label">Nom*</span>
			    <input type="text" placeholder="Un Chateau" ng-model="vm.item.title" title="name" required>
			  </label>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.producer.$invalid && !wineForm.producer.$pristine }">
			    <span class="input-label">Domaine*</span>
			    <input type="text" placeholder="Le Grand Vin" ng-model="vm.item.producer" name="producer" required>
			  </label>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.appellation.$invalid && !wineForm.appellation.$pristine }">
			    <span class="input-label">Appellation</span>
			    <input type="text" placeholder="Grand cru" ng-model="vm.item.appellation" name="appellation">
			  </label>
				<label class="item item-input" ng-class="{ 'has-error' : wineForm.region.$invalid && !wineForm.region.$pristine }">
			    <span class="input-label">Région</span>
			    <input type="text" placeholder="Alsace" ng-model="vm.item.region" name="region">
			  </label>
			  <label class="item item-input item-select">
			    <div class="input-label">
			      Couleur*
			    </div>
			    <select ng-model="vm.item.type" required>
			      <option value="rouge">Rouge</option>
			      <option value="rose">Rosé</option>
			      <option value="blanc">Blanc</option>
			    </select>
			  </label>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.millesime.$invalid && !wineForm.millesime.$pristine }">
			    <span class="input-label">Millesime</span>
			    <input type="tel" placeholder="2014" ng-model="vm.item.millesime" name="millesime">
			  </label>
				<label class="item item-input" ng-class="{ 'has-error' : wineForm.number.$invalid && !wineForm.number.$pristine }">
			    <span class="input-label">Quantité*</span>
			    <input type="number" placeholder="1" ng-model="vm.item.number" required name="number">
			  </label>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.cepage.$invalid && !wineForm.cepage.$pristine }">
			    <span class="input-label">Cépage</span>
			    <input type="text" placeholder="Raisin" ng-model="vm.item.cepage" name="cepage">
			  </label>
				<div class="item item-divider">
			    Divers
			  </div>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.price.$invalid && !wineForm.price.$pristine }">
			    <span class="input-label">Prix (€)</span>
			    <input type="number" step="any" placeholder="10€" ng-model="vm.item.price" name="price">
			  </label>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.best.$invalid && !wineForm.best.$pristine }">
			    <span class="input-label">A consommer de</span>
				  <input type="number" min="2000" max="2100" class="input-multiple" placeholder="2014" name="best" ng-model="vm.item.best_start">
				  <span class="input-label span-multiple">à</span>
			    <input type="number" min="2000" max="2100" class="input-multiple" placeholder="2015" name="best" ng-model="vm.item.best_end">
			  </label>
			  <label class="item item-input" ng-class="{ 'has-error' : wineForm.alcohol.$invalid && !wineForm.alcohol.$pristine }">
			    <span class="input-label">Degré d'alcool (%)</span>
			    <input type="number" step="any" placeholder="10" ng-model="vm.item.alcohol" name="alcohol">
			  </label>
			  <label class="item item-input item-stacked-label">
			    <span class="input-label">Commentaires</span>
			    <textarea name="comment" ng-model="vm.item.comment" placeholder="Commentaires / avis"></textarea>
			  </label>
			  <li class="item">
			  	<div class="row">
					  <div class="col-33">Notation</div>
					  <div class="col-67"><star-rating rating="vm.item.stars" editable="true"></star-rating></div>
					</div>
			  </li>
			  <ion-toggle ng-model="vm.item.star" toggle-class="toggle-assertive">Vin favori</ion-toggle>
			  <div class="padding">
					<button class="button button-block button-assertive" type="submit" ng-disabled="wineForm.$invalid" >
					  Enregistrer
					</button>
				</div>
			</form>
		</div>
  </ion-content>
</ion-view>
