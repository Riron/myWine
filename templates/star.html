<ion-view title="Ma Cave">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <a class="button button-icon icon ion-plus-round" href="#/app/add"></a>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <div class="padding empty" ng-if="vm.items.length == 0">
      Aucun vin en cave...
    </div>
    <ionl-ist>
      <div class="item item-divider">
        Vins favoris
      </div>
      <ion-item class="item-avatar" ng-repeat="item in vm.starred | limitTo: 5" href="#/app/wines/{{item.id}}">
        <img ng-src="{{ item.picture }}">
        <h2>{{ item.title }} - {{ item.millesime }}</h2>
        <p>{{ item.producer }} - <star-rating rating="item.stars"></star-rating></p>
        <wine-color type="item.type" number="item.number"></wine-color>
        <ion-option-button class="button-dark" ng-click="vm.drink(item.id)">
          + <i class="ion-wineglass"></i>
        </ion-option-button>
      </ion-item>
      <div class="padding empty" ng-if="vm.starred.length == 0">
        Aucun vin favori...
      </div>
      <div class="item item-divider">
        Mieux notés
      </div>
      <ion-item class="item-avatar" ng-repeat="item in vm.items | orderBy: vm.stars" href="#/app/wines/{{item.id}}">
        <img ng-src="{{ item.picture }}">
        <h2>{{ item.title }} - {{ item.millesime }}</h2>
        <p>{{ item.producer }} - <star-rating rating="item.stars"></star-rating></p>
        <wine-color type="item.type" number="item.number"></wine-color>
        <ion-option-button class="button-dark" ng-click="vm.drink(item.id)">
          + <i class="ion-wineglass"></i>
        </ion-option-button>
      </ion-item>
      <div class="item item-divider">
        Les vins prêts à étre bu
      </div>
      <ion-item class="item-avatar" ng-repeat="item in vm.ready | limitTo: 5" href="#/app/wines/{{item.id}}">
        <img ng-src="{{ item.picture }}">
        <h2>{{ item.title }} - {{ item.millesime }}</h2>
        <p>{{ item.producer }} - <star-rating rating="item.stars"></star-rating></p>
        <wine-color type="item.type" number="item.number"></wine-color>
        <ion-option-button class="button-dark" ng-click="vm.drink(item.id)">
          + <i class="ion-wineglass"></i>
        </ion-option-button>
      </ion-item>
      <div class="padding empty" ng-if="vm.ready.length == 0">
        Aucun vin prêt à être bu...
      </div>
    </ion-list>
  </ion-content>
</ion-view>
